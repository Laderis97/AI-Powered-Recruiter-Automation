<!DOCTYPE html>
<html data-theme="light">
<head>
  <title>AI Recruiter - Modern Dashboard</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI-Powered Recruiter Dashboard with Modern Design Trends">

  <!-- Modern Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Modern CSS -->
  <link rel="stylesheet" href="/css/modern-design.css">
  <link rel="stylesheet" href="/css/modern-dashboard.css">

  <!-- Modern JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/js/modern-ui.js" defer></script>
</head>
<body>
  <!-- Modern Navigation Header -->
  <header class="header-modern">
    <nav class="nav-modern">
      <div class="container">
        <div class="nav-content">
          <div class="nav-logo" data-morph>
            <div class="logo-icon">ü§ñ</div>
            <div class="logo-text">AI Recruiter</div>
          </div>
          
          <div class="nav-links">
            <a href="#dashboard" class="nav-link" data-track="nav-dashboard">Dashboard</a>
            <a href="#ai-tools" class="nav-link" data-track="nav-ai-tools">AI Tools</a>
            <a href="#candidates" class="nav-link" data-track="nav-candidates">Candidates</a>
            <a href="#analytics" class="nav-link" data-track="nav-analytics">Analytics</a>
          </div>
          
          <div class="nav-controls">
            <div class="search-container">
              <input type="text" class="search-input" placeholder="Search candidates, jobs..." data-track="search-input">
              <button class="search-btn" data-track="search-button">
                <i class="fas fa-search"></i>
              </button>
            </div>
            
            <button class="btn-icon theme-toggle" title="Toggle theme" data-track="theme-toggle">
              <i class="fas fa-moon"></i>
            </button>
            
            <button class="btn-icon" title="Notifications" data-track="notifications">
              <i class="fas fa-bell"></i>
              <span class="notification-badge">3</span>
            </button>
            
            <div class="user-avatar" data-morph>JD</div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero Section with Parallax -->
  <section class="hero-section">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title" data-stagger>
          AI-Powered <span class="gradient-text">Recruitment</span><br>
          Made Simple
        </h1>
        <p class="hero-subtitle" data-stagger>
          Streamline your hiring process with intelligent candidate matching, 
          skills analysis, and automated insights powered by advanced AI.
        </p>
        <div class="hero-actions" data-stagger>
          <button class="btn btn-primary btn-lg" data-loading="true" data-track="hero-get-started">
            <i class="fas fa-rocket"></i>
            Get Started
          </button>
          <button class="btn btn-secondary btn-lg" data-track="hero-demo">
            <i class="fas fa-play"></i>
            Watch Demo
          </button>
        </div>
      </div>
      
      <div class="hero-visual">
        <div class="floating-card" data-parallax="0.3" data-morph>
          <div class="card-icon">üìä</div>
          <div>Smart Analytics</div>
        </div>
        <div class="floating-card" data-parallax="0.2" data-morph>
          <div class="card-icon">üéØ</div>
          <div>AI Matching</div>
        </div>
        <div class="floating-card" data-parallax="0.1" data-morph>
          <div class="card-icon">‚ö°</div>
          <div>Fast Results</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Dashboard Navigation -->
  <section class="dashboard-navigation">
    <div class="container">
      <!-- Breadcrumb Navigation -->
      <div class="breadcrumb-nav" id="breadcrumbNav">
        <button class="breadcrumb-item active" data-view="all">
          <i class="fas fa-home"></i>
          <span>Dashboard</span>
        </button>
        <div class="breadcrumb-separator" id="breadcrumbSeparator" style="display: none;">
          <i class="fas fa-chevron-right"></i>
        </div>
        <button class="breadcrumb-item" id="currentSection" style="display: none;">
          <i class="fas fa-th-large"></i>
          <span>Section</span>
        </button>
      </div>
      
      <!-- Main Navigation Tabs -->
      <div class="nav-tabs" data-stagger>
        <button class="nav-tab active" data-view="all" data-track="nav-all" title="Dashboard Overview (Alt+1)">
          <i class="fas fa-th-large"></i>
          <span>All</span>
        </button>
        <button class="nav-tab" data-view="candidates" data-track="nav-candidates-tab" title="Candidates (Alt+2)">
          <i class="fas fa-users"></i>
          <span>Candidates</span>
        </button>
        <button class="nav-tab" data-view="jobs" data-track="nav-jobs-tab" title="Jobs (Alt+3)">
          <i class="fas fa-briefcase"></i>
          <span>Jobs</span>
        </button>
        <button class="nav-tab" data-view="analytics" data-track="nav-analytics-tab" title="Analytics (Alt+4)">
          <i class="fas fa-chart-line"></i>
          <span>Analytics</span>
        </button>
      </div>
      
      <!-- Quick Actions -->
      <div class="nav-quick-actions" id="navQuickActions">
        <button class="btn btn-sm btn-outline" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Back to Top">
          <i class="fas fa-arrow-up"></i>
        </button>
        <button class="btn btn-sm btn-outline" onclick="refreshCurrentView()" title="Refresh View">
          <i class="fas fa-sync-alt"></i>
        </button>
        <button class="btn btn-sm btn-outline" onclick="showKeyboardShortcuts()" title="Keyboard Shortcuts">
          <i class="fas fa-keyboard"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- Dashboard Overview -->
  <section id="dashboard" class="dashboard-overview">
    <div class="container">
      <div class="section-header" data-stagger>
        <h2 class="section-title">Dashboard Overview</h2>
        <p class="section-subtitle">
          Real-time insights into your recruitment pipeline and performance metrics
        </p>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card" data-stagger>
          <div class="stat-number" data-target="0" data-analytics="totalCandidates">0</div>
          <div class="stat-label">Active Candidates</div>
        </div>
        <div class="stat-card" data-stagger>
          <div class="stat-number" data-target="0" data-analytics="totalJobs">0</div>
          <div class="stat-label">Open Positions</div>
        </div>
        <div class="stat-card" data-stagger>
          <div class="stat-number" data-target="0" data-analytics="totalCampaigns">0</div>
          <div class="stat-label">Interviews Scheduled</div>
        </div>
        <div class="stat-card" data-stagger>
          <div class="stat-number" data-target="0" data-analytics="responseRate">0</div>
          <div class="stat-label">Response Rate</div>
        </div>
      </div>
      
      <div class="dashboard-cards">
        <div class="dashboard-card" data-stagger>
          <div class="card-header">
            <h3 class="card-title">Recent Activity</h3>
            <div class="card-icon">üìà</div>
          </div>
          <ul class="activity-list">
            <li class="activity-item" data-track="activity-item">
              <div class="activity-icon">üë§</div>
              <div class="activity-content">
                <div class="activity-text">New candidate application received</div>
                <div class="activity-time">2 minutes ago</div>
              </div>
            </li>
            <li class="activity-item" data-track="activity-item">
              <div class="activity-icon">üìß</div>
              <div class="activity-content">
                <div class="activity-text">Interview scheduled for tomorrow</div>
                <div class="activity-time">15 minutes ago</div>
              </div>
            </li>
            <li class="activity-item" data-track="activity-item">
              <div class="activity-icon">‚úÖ</div>
              <div class="activity-content">
                <div class="activity-text">Candidate hired for Frontend role</div>
                <div class="activity-time">1 hour ago</div>
              </div>
            </li>
          </ul>
        </div>
        
        <div class="dashboard-card" data-stagger>
          <div class="card-header">
            <h3 class="card-title">AI Insights</h3>
            <div class="card-icon">üß†</div>
          </div>
          <div class="insights-content">
            <p class="insight-text">
              <strong>Trend Alert:</strong> Data Science candidates are in high demand. 
              Consider adjusting salary ranges for competitive positioning.
            </p>
            <div class="insight-metric">
              <span class="metric-label">Market Demand:</span>
              <span class="metric-value">+23% this month</span>
            </div>
          </div>
        </div>
        
        <div class="dashboard-card" data-stagger>
          <div class="card-header">
            <h3 class="card-title">Quick Actions</h3>
            <div class="card-icon">‚ö°</div>
          </div>
          <div class="quick-actions">
            <button class="btn btn-primary btn-sm" data-loading="true" data-track="quick-add-candidate">
              <i class="fas fa-plus"></i>
              Add Candidate
            </button>
            <button class="btn btn-secondary btn-sm" data-track="quick-upload-resume">
              <i class="fas fa-file-upload"></i>
              Upload Resume
            </button>
            <button class="btn btn-outline btn-sm" data-track="quick-view-reports">
              <i class="fas fa-chart-line"></i>
              View Reports
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- AI Tools Section -->
  <section id="ai-tools" class="ai-tools">
    <div class="container">
      <div class="section-header" data-stagger>
        <h2 class="section-title">AI-Powered Tools</h2>
        <p class="section-subtitle">
          Leverage advanced AI to streamline every aspect of your recruitment process
        </p>
      </div>
      
      <div class="ai-tools-grid">
        <div class="ai-tool-card" data-stagger data-track="ai-tool-matching">
          <div class="ai-tool-icon">üéØ</div>
          <h3 class="ai-tool-title">Smart Candidate Matching</h3>
          <p class="ai-tool-description">
            AI-powered matching that analyzes skills, experience, and cultural fit 
            to find the perfect candidate for each role.
          </p>
          <button class="ai-tool-btn" data-loading="true" data-track="use-ai-matching">
            Try Matching
          </button>
        </div>
        
        <div class="ai-tool-card" data-stagger data-track="ai-tool-skills">
          <div class="ai-tool-icon">üìä</div>
          <h3 class="ai-tool-title">Skills Gap Analysis</h3>
          <p class="ai-tool-description">
            Comprehensive analysis of candidate skills vs. job requirements, 
            identifying training needs and development opportunities.
          </p>
          <button class="ai-tool-btn" data-loading="true" data-track="use-ai-skills">
            Analyze Skills
          </button>
        </div>
        
        <div class="ai-tool-card" data-stagger data-track="ai-tool-interview">
          <div class="ai-tool-icon">üí¨</div>
          <h3 class="ai-tool-title">Interview Question Generator</h3>
          <p class="ai-tool-description">
            Generate contextual interview questions based on job requirements 
            and candidate background for more effective interviews.
          </p>
          <button class="ai-tool-btn" data-loading="true" data-track="use-ai-interview">
            Generate Questions
          </button>
        </div>
        
        <div class="ai-tool-card" data-stagger data-track="ai-tool-cultural">
          <div class="ai-tool-icon">üîç</div>
          <h3 class="ai-tool-title">Cultural Fit Assessment</h3>
          <p class="ai-tool-description">
            Evaluate how well candidates align with your company culture 
            and values using advanced behavioral analysis.
          </p>
          <button class="ai-tool-btn" data-loading="true" data-track="use-ai-cultural">
            Assess Fit
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Jobs Section -->
  <section id="jobs" class="jobs">
    <div class="container">
      <div class="section-header" data-stagger>
        <div class="section-header-content">
          <h2 class="section-title">Job Management</h2>
          <p class="section-subtitle">
            Create, manage, and optimize job postings with AI-powered insights
          </p>
        </div>
        <button class="btn btn-outline btn-sm back-to-dashboard" onclick="navigateToDashboard()" title="Back to Dashboard">
          <i class="fas fa-arrow-left"></i>
          Back to Dashboard
        </button>
      </div>
      
      <div class="jobs-actions" data-stagger>
        <button class="btn btn-primary" data-track="add-job" onclick="openAddJobModal()">
          <i class="fas fa-plus"></i>
          Add New Job
        </button>
        <div class="jobs-filters">
          <select class="filter-select" data-track="job-status-filter">
            <option value="all">All Status</option>
            <option value="active">Active</option>
            <option value="draft">Draft</option>
            <option value="closed">Closed</option>
          </select>
          <select class="filter-select" data-track="job-type-filter">
            <option value="all">All Types</option>
            <option value="full-time">Full-time</option>
            <option value="part-time">Part-time</option>
            <option value="contract">Contract</option>
            <option value="remote">Remote</option>
          </select>
        </div>
      </div>
      
      <div class="jobs-grid" id="jobsGrid">
        <!-- Jobs will be dynamically loaded here -->
        <div class="job-card" data-stagger data-track="job-card">
          <div class="job-header">
            <div class="job-title-section">
              <h3 class="job-title">Senior Frontend Developer</h3>
              <span class="job-status active">Active</span>
            </div>
            <div class="job-actions">
              <button class="btn-icon" title="Edit Job" data-track="edit-job">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn-icon" title="View Applications" data-track="view-applications">
                <i class="fas fa-users"></i>
              </button>
              <button class="btn-icon" title="More Options" data-track="job-more">
                <i class="fas fa-ellipsis-v"></i>
              </button>
            </div>
          </div>
          
          <div class="job-details">
            <div class="job-meta">
              <span class="job-location"><i class="fas fa-map-marker-alt"></i> San Francisco, CA</span>
              <span class="job-type"><i class="fas fa-clock"></i> Full-time</span>
              <span class="job-salary"><i class="fas fa-dollar-sign"></i> $120k - $150k</span>
            </div>
            
            <p class="job-description">
              We're looking for a Senior Frontend Developer to join our team and help build amazing user experiences...
            </p>
            
            <div class="job-skills">
              <span class="skill-tag">React</span>
              <span class="skill-tag">TypeScript</span>
              <span class="skill-tag">Node.js</span>
              <span class="skill-tag">+3 more</span>
            </div>
          </div>
          
          <div class="job-stats">
            <div class="stat-item">
              <span class="stat-number">24</span>
              <span class="stat-label">Applications</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">8</span>
              <span class="stat-label">Interviews</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">3</span>
              <span class="stat-label">Finalists</span>
            </div>
          </div>
        </div>
        
        <div class="job-card" data-stagger data-track="job-card">
          <div class="job-header">
            <div class="job-title-section">
              <h3 class="job-title">Data Scientist</h3>
              <span class="job-status active">Active</span>
            </div>
            <div class="job-actions">
              <button class="btn-icon" title="Edit Job" data-track="edit-job">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn-icon" title="View Applications" data-track="view-applications">
                <i class="fas fa-users"></i>
              </button>
              <button class="btn-icon" title="More Options" data-track="job-more">
                <i class="fas fa-ellipsis-v"></i>
              </button>
            </div>
          </div>
          
          <div class="job-details">
            <div class="job-meta">
              <span class="job-location"><i class="fas fa-map-marker-alt"></i> Remote</span>
              <span class="job-type"><i class="fas fa-clock"></i> Full-time</span>
              <span class="job-salary"><i class="fas fa-dollar-sign"></i> $130k - $160k</span>
            </div>
            
            <p class="job-description">
              Join our data science team to build machine learning models and drive insights from large datasets...
            </p>
            
            <div class="job-skills">
              <span class="skill-tag">Python</span>
              <span class="skill-tag">Machine Learning</span>
              <span class="skill-tag">SQL</span>
              <span class="skill-tag">+2 more</span>
            </div>
          </div>
          
          <div class="job-stats">
            <div class="stat-item">
              <span class="stat-number">18</span>
              <span class="stat-label">Applications</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">6</span>
              <span class="stat-label">Interviews</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">2</span>
              <span class="stat-label">Finalists</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Candidates Section -->
  <section id="candidates" class="candidates">
    <div class="container">
      <div class="section-header" data-stagger>
        <div class="section-header-content">
          <h2 class="section-title">Uploaded Candidates</h2>
          <p class="section-subtitle">
            AI-parsed candidates from uploaded resumes
          </p>
        </div>
        <button class="btn btn-outline btn-sm back-to-dashboard" onclick="navigateToDashboard()" title="Back to Dashboard">
          <i class="fas fa-arrow-left"></i>
          Back to Dashboard
        </button>
      </div>
      
      <!-- Candidates Actions -->
      <div class="candidates-actions">
        <div class="candidates-filters">
          <select class="filter-select" data-track="candidate-status-filter">
            <option value="all">All Candidates</option>
            <option value="active">Active</option>
            <option value="archived">Archived</option>
          </select>
          <select class="filter-select" data-track="candidate-sort">
            <option value="name">Sort by Name</option>
            <option value="date">Sort by Date</option>
            <option value="skills">Sort by Skills</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="openResumeUploadModal()">
          <i class="fas fa-plus"></i>
          Upload More Resumes
        </button>
      </div>
      
      <!-- Loading State -->
      <div id="candidatesLoading" class="loading-state" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Loading candidates...</p>
      </div>
      
      <!-- Empty State -->
      <div id="candidatesEmpty" class="empty-state" style="display: none;">
        <div style="font-size: 3rem; margin-bottom: var(--space-4);">üìÑ</div>
        <h3 style="margin-bottom: var(--space-2); color: var(--color-text-primary);">No Candidates Yet</h3>
        <p style="color: var(--color-text-secondary); margin-bottom: var(--space-4);">
          Upload resumes to start building your candidate database.
        </p>
        <button class="btn btn-primary" onclick="openResumeUploadModal()">
          <i class="fas fa-upload"></i>
          Upload First Resume
        </button>
      </div>
      
      <!-- Candidates Grid -->
      <div id="candidatesGrid" class="candidates-grid">
        <!-- Dynamic content will be loaded here -->
      </div>
    </div>
  </section>

  <!-- Analytics Section -->
  <section id="analytics" class="analytics">
    <div class="container">
      <div class="section-header" data-stagger>
        <div class="section-header-content">
          <h2 class="section-title">Recruitment Analytics</h2>
          <p class="section-subtitle">
            Data-driven insights to optimize your hiring process and improve outcomes
          </p>
        </div>
        <button class="btn btn-outline btn-sm back-to-dashboard" onclick="navigateToDashboard()" title="Back to Dashboard">
          <i class="fas fa-arrow-left"></i>
          Back to Dashboard
        </button>
      </div>
      
      <div class="analytics-grid">
        <div class="analytics-card" data-stagger>
          <div class="analytics-header">
            <h3 class="analytics-title">Hiring Funnel</h3>
            <div class="analytics-actions">
              <button class="btn-icon" onclick="refreshHiringFunnel()" title="Refresh">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </div>
          <div class="analytics-chart">
            <div id="hiringFunnelChart" class="chart-container">
              <div class="chart-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading hiring funnel data...</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="analytics-card" data-stagger onclick="openTimeToHireModal()" style="cursor: pointer;">
          <div class="analytics-header">
            <h3 class="analytics-title">Time to Hire</h3>
            <div class="analytics-actions">
              <button class="btn-icon" onclick="refreshTimeToHire()" title="Refresh">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </div>
          <div class="analytics-chart">
            <div class="time-to-hire">
              <canvas id="tthChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Advanced Features Section (Hidden by default) -->
  <section id="advanced-features" class="advanced-features" style="display: none;" data-advanced>
    <div class="container">
      <div class="section-header" data-stagger>
        <h2 class="section-title">Advanced Features</h2>
        <p class="section-subtitle">
          Unlock advanced capabilities as you explore the platform
        </p>
      </div>
      
      <div class="advanced-grid">
        <div class="advanced-card" data-stagger>
          <h3>Advanced Analytics</h3>
          <p>Deep insights and predictive modeling</p>
        </div>
        <div class="advanced-card" data-stagger>
          <h3>Custom Workflows</h3>
          <p>Build your own recruitment processes</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Expert Features Section (Hidden by default) -->
  <section id="expert-features" class="expert-features" style="display: none;" data-expert>
    <div class="container">
      <div class="section-header" data-stagger>
        <h2 class="section-title">Expert Features</h2>
        <p class="section-subtitle">
          Professional tools for power users
        </p>
      </div>

      <div class="expert-grid">
        <div class="expert-card" data-stagger>
          <h3>API Access</h3>
          <p>Integrate with your existing systems</p>
        </div>
        <div class="expert-card" data-stagger>
          <h3>Custom AI Models</h3>
          <p>Train models on your specific data</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Resume Upload Modal -->
  <div id="resumeUploadModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">üìÑ Upload Resume</h3>
        <button class="modal-close" onclick="closeResumeUploadModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="modal-body">
        <div class="upload-section">
          <div class="upload-area" onclick="document.getElementById('resumeFile').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>Click to upload or drag and drop</p>
            <span class="upload-hint">PDF, DOC, DOCX (max 5MB)</span>
          </div>
          <input type="file" id="resumeFile" accept=".pdf,.doc,.docx" style="display: none;" onchange="handleResumeUpload(event)">
        </div>
        
        <div class="upload-preview" id="uploadPreview" style="display: none;">
          <div class="preview-header">
            <h4>Resume Preview</h4>
            <button class="btn-icon" onclick="clearResumeUpload()">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="preview-content" id="previewContent"></div>
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeResumeUploadModal()">Cancel</button>
        <button class="btn btn-primary" onclick="processResumeUpload()" id="processResumeBtn" disabled>
          <i class="fas fa-magic"></i>
          Process Resume
        </button>
      </div>
    </div>
  </div>

  <!-- Time to Hire Modal -->
  <div id="timeToHireModal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 class="modal-title">üìä Time to Hire Analytics</h3>
        <button class="modal-close" onclick="closeTimeToHireModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="modal-body modal-scrollable">
        <div id="timeToHireModalContent">
          <!-- Content will be populated by JavaScript -->
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeTimeToHireModal()">Close</button>
        <button class="btn btn-primary" onclick="refreshTimeToHireModal()">
          <i class="fas fa-sync-alt"></i> Refresh Data
        </button>
      </div>
    </div>
  </div>

  <!-- Hiring Funnel Expanded View Modal -->
  <div id="hiringFunnelModal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 class="modal-title" id="funnelModalTitle">
          <i class="fas fa-funnel"></i>
          <span id="funnelStageName">Stage Details</span>
        </h3>
        <button class="modal-close" onclick="closeHiringFunnelModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="modal-body">
        <div class="funnel-stage-overview">
          <div class="stage-metrics">
            <div class="metric-card">
              <div class="metric-value" id="stageCount">0</div>
              <div class="metric-label">Candidates</div>
            </div>
            <div class="metric-card">
              <div class="metric-value" id="stagePercentage">0%</div>
              <div class="metric-label">Conversion Rate</div>
            </div>
            <div class="metric-card">
              <div class="metric-value" id="stageAvgTime">0 days</div>
              <div class="metric-label">Avg Time in Stage</div>
            </div>
            <div class="metric-card">
              <div class="metric-value" id="stageSuccessRate">0%</div>
              <div class="metric-label">Success Rate</div>
            </div>
          </div>
        </div>
        
        <div class="funnel-stage-details">
          <div class="details-tabs">
            <button class="tab-btn active" onclick="switchFunnelTab('candidates', event)">
              <i class="fas fa-users"></i>
              Candidates
            </button>
            <button class="tab-btn" onclick="switchFunnelTab('analytics', event)">
              <i class="fas fa-chart-bar"></i>
              Analytics
            </button>
            <button class="tab-btn" onclick="switchFunnelTab('insights', event)">
              <i class="fas fa-lightbulb"></i>
              Insights
            </button>
          </div>
          
          <div class="tab-content">
            <div id="candidates-tab" class="tab-pane active">
              <div class="candidates-list" id="stageCandidatesList">
                <!-- Candidates will be populated here -->
              </div>
            </div>
            
            <div id="analytics-tab" class="tab-pane">
              <div class="analytics-content">
                <div class="chart-container">
                  <h4>Stage Performance Over Time</h4>
                  <div class="performance-chart">
                    <canvas id="stagePerformanceChart"></canvas>
                  </div>
                </div>
                <div class="metrics-grid">
                  <div class="metric-item">
                    <div class="metric-number" id="stageDropoffRate">0%</div>
                    <div class="metric-text">Drop-off Rate</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-number" id="stageBottleneck">No</div>
                    <div class="metric-text">Bottleneck</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-number" id="stageEfficiency">0%</div>
                    <div class="metric-text">Efficiency</div>
                  </div>
                </div>
              </div>
            </div>
            
            <div id="insights-tab" class="tab-pane">
              <div class="insights-content">
                <div class="insight-cards" id="stageInsights">
                  <!-- Insights will be populated here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeHiringFunnelModal()">Close</button>
        <button class="btn btn-primary" onclick="exportStageData()">
          <i class="fas fa-download"></i>
          Export Data
        </button>
      </div>
    </div>
  </div>

  <!-- Add Job Modal -->
  <div id="addJobModal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 class="modal-title">üìù Create New Job Posting</h3>
        <button class="modal-close" onclick="closeAddJobModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="modal-body">
        <form id="addJobForm" class="job-form">
          <div class="form-section">
            <h4>Basic Information</h4>
            <div class="form-row">
              <div class="form-group">
                <label for="jobTitle">Job Title *</label>
                <input type="text" id="jobTitle" name="title" required placeholder="e.g., Senior Frontend Developer">
              </div>
              <div class="form-group">
                <label for="jobDepartment">Department</label>
                <select id="jobDepartment" name="department">
                  <option value="">Select Department</option>
                  <option value="engineering">Engineering</option>
                  <option value="design">Design</option>
                  <option value="product">Product</option>
                  <option value="marketing">Marketing</option>
                  <option value="sales">Sales</option>
                  <option value="hr">Human Resources</option>
                  <option value="finance">Finance</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="jobLocation">Location *</label>
                <input type="text" id="jobLocation" name="location" required placeholder="e.g., San Francisco, CA or Remote">
              </div>
              <div class="form-group">
                <label for="jobType">Employment Type *</label>
                <select id="jobType" name="employmentType" required>
                  <option value="">Select Type</option>
                  <option value="full-time">Full-time</option>
                  <option value="part-time">Part-time</option>
                  <option value="contract">Contract</option>
                  <option value="internship">Internship</option>
                  <option value="freelance">Freelance</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="jobSalary">Salary Range</label>
                <input type="text" id="jobSalary" name="salary" placeholder="e.g., $80k - $120k">
              </div>
              <div class="form-group">
                <label for="jobExperience">Experience Level</label>
                <select id="jobExperience" name="experienceLevel">
                  <option value="">Select Level</option>
                  <option value="entry">Entry Level</option>
                  <option value="mid">Mid Level</option>
                  <option value="senior">Senior Level</option>
                  <option value="lead">Lead</option>
                  <option value="principal">Principal</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h4>Job Description</h4>
            <div class="form-group">
              <label for="jobDescription">Description *</label>
              <textarea id="jobDescription" name="description" rows="6" required 
                placeholder="Describe the role, responsibilities, and what makes this position exciting..."></textarea>
            </div>
            
            <div class="form-group">
              <label for="jobResponsibilities">Key Responsibilities</label>
              <textarea id="jobResponsibilities" name="responsibilities" rows="4" 
                placeholder="List the main responsibilities and duties..."></textarea>
            </div>
            
            <div class="form-group">
              <label for="jobRequirements">Requirements & Qualifications</label>
              <textarea id="jobRequirements" name="requirements" rows="4" 
                placeholder="List required skills, experience, and qualifications..."></textarea>
            </div>
          </div>
          
          <div class="form-section">
            <h4>Skills & Requirements</h4>
            <div class="form-group">
              <label for="jobSkills">Required Skills</label>
              <input type="text" id="jobSkills" name="skills" 
                placeholder="e.g., React, TypeScript, Node.js (comma separated)">
              <small>Enter skills separated by commas</small>
            </div>
            
            <div class="form-group">
              <label for="jobNiceToHave">Nice to Have</label>
              <input type="text" id="jobNiceToHave" name="niceToHave" 
                placeholder="e.g., AWS, Docker, Kubernetes (comma separated)">
              <small>Optional skills that would be beneficial</small>
            </div>
          </div>
          
          <div class="form-section">
            <h4>Additional Information</h4>
            <div class="form-row">
              <div class="form-group">
                <label for="jobBenefits">Benefits</label>
                <textarea id="jobBenefits" name="benefits" rows="3" 
                  placeholder="Health insurance, 401k, flexible hours, etc..."></textarea>
              </div>
              <div class="form-group">
                <label for="jobPerks">Perks</label>
                <textarea id="jobPerks" name="perks" rows="3" 
                  placeholder="Free lunch, gym membership, remote work, etc..."></textarea>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="jobStartDate">Expected Start Date</label>
                <input type="date" id="jobStartDate" name="startDate">
              </div>
              <div class="form-group">
                <label for="jobStatus">Status</label>
                <select id="jobStatus" name="status">
                  <option value="draft">Draft</option>
                  <option value="active">Active</option>
                  <option value="paused">Paused</option>
                </select>
              </div>
            </div>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeAddJobModal()">Cancel</button>
        <button class="btn btn-secondary" onclick="saveAsDraft()">
          <i class="fas fa-save"></i>
          Save as Draft
        </button>
        <button class="btn btn-primary" onclick="publishJob()">
          <i class="fas fa-paper-plane"></i>
          Publish Job
        </button>
      </div>
    </div>
  </div>

  <!-- Candidate Detail Modal -->
  <div id="candidateDetailModal" class="modal-overlay" style="display: none;">
    <div class="modal-content modal-large modal-scrollable">
      <div class="modal-header">
        <h3 id="candidateDetailTitle">Candidate Details</h3>
        <button class="btn-icon" onclick="closeCandidateDetailModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="modal-body">
        <div class="candidate-detail-content">
          <!-- Candidate Header -->
          <div class="candidate-detail-header">
            <div class="candidate-detail-avatar" data-morph>
              <span id="candidateDetailInitials">JD</span>
            </div>
            <div class="candidate-detail-info">
              <h2 id="candidateDetailName">Candidate Name</h2>
              <p id="candidateDetailTitle" class="candidate-detail-job-title">Job Title</p>
              <div class="candidate-detail-meta">
                <span id="candidateDetailLocation"><i class="fas fa-map-marker-alt"></i> Location</span>
                <span id="candidateDetailExperience"><i class="fas fa-clock"></i> Experience</span>
                <span id="candidateDetailStatus"><i class="fas fa-circle"></i> Status</span>
              </div>
            </div>
            <div class="candidate-detail-actions">
              <button class="btn btn-primary" onclick="contactCandidateFromModal()">
                <i class="fas fa-envelope"></i>
                Contact
              </button>
              <button class="btn btn-secondary" onclick="scheduleInterview()">
                <i class="fas fa-calendar"></i>
                Schedule Interview
              </button>
            </div>
          </div>

          <!-- Candidate Tabs -->
          <div class="candidate-detail-tabs">
            <button class="tab-btn active" onclick="switchCandidateTab('overview', event)">
              <i class="fas fa-user"></i>
              Overview
            </button>
            <button class="tab-btn" onclick="switchCandidateTab('skills', event)">
              <i class="fas fa-code"></i>
              Skills & Experience
            </button>
            <button class="tab-btn" onclick="switchCandidateTab('contact', event)">
              <i class="fas fa-address-book"></i>
              Contact Info
            </button>
            <button class="tab-btn" onclick="switchCandidateTab('notes', event)">
              <i class="fas fa-sticky-note"></i>
              Notes & History
            </button>
          </div>

          <!-- Tab Content -->
          <div class="tab-content">
            <!-- Overview Tab -->
            <div id="overview-tab" class="tab-pane active">
              <div class="candidate-overview-grid">
                <div class="overview-card">
                  <h4>Match Score</h4>
                  <div class="match-score-display">
                    <div class="match-score-circle" id="candidateDetailMatchScore">
                      <span class="match-score-number">95</span>
                      <span class="match-score-percent">%</span>
                    </div>
                    <p>Excellent match for current openings</p>
                  </div>
                </div>
                
                <div class="overview-card">
                  <h4>Current Stage</h4>
                  <div class="stage-indicator" id="candidateDetailStage">
                    <span class="stage-badge">Interviews</span>
                  </div>
                </div>
                
                <div class="overview-card">
                  <h4>Skills Summary</h4>
                  <div class="skills-summary" id="candidateDetailSkillsSummary">
                    <!-- Skills will be populated here -->
                  </div>
                </div>
                
                <div class="overview-card">
                  <h4>Quick Actions</h4>
                  <div class="quick-actions">
                    <button class="btn btn-sm" onclick="viewResume()">
                      <i class="fas fa-file-pdf"></i>
                      View Resume
                    </button>
                    <button class="btn btn-sm" onclick="addToShortlist()">
                      <i class="fas fa-star"></i>
                      Add to Shortlist
                    </button>
                    <button class="btn btn-sm" onclick="archiveCandidateFromModal()">
                      <i class="fas fa-archive"></i>
                      Archive
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Skills Tab -->
            <div id="skills-tab" class="tab-pane">
              <div class="skills-detail-section">
                <h4>Technical Skills</h4>
                <div class="skills-grid" id="candidateDetailSkills">
                  <!-- Skills will be populated here -->
                </div>
                
                <h4>Experience Summary</h4>
                <div class="experience-summary" id="candidateDetailExperienceSummary">
                  <!-- Experience details will be populated here -->
                </div>
              </div>
            </div>

            <!-- Contact Tab -->
            <div id="contact-tab" class="tab-pane">
              <div class="contact-info-grid">
                <div class="contact-card">
                  <h4>Primary Contact</h4>
                  <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                      <strong>Email</strong>
                      <span id="candidateDetailEmail">email@example.com</span>
                    </div>
                  </div>
                  <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                      <strong>Phone</strong>
                      <span id="candidateDetailPhone">+1 (555) 123-4567</span>
                    </div>
                  </div>
                </div>
                
                <div class="contact-card">
                  <h4>Professional Links</h4>
                  <div class="contact-item" id="candidateDetailLinkedIn">
                    <i class="fab fa-linkedin"></i>
                    <div>
                      <strong>LinkedIn</strong>
                      <a href="#" target="_blank">View Profile</a>
                    </div>
                  </div>
                  <div class="contact-item" id="candidateDetailGithub">
                    <i class="fab fa-github"></i>
                    <div>
                      <strong>GitHub</strong>
                      <a href="#" target="_blank">View Profile</a>
                    </div>
                  </div>
                  <div class="contact-item" id="candidateDetailPortfolio">
                    <i class="fas fa-globe"></i>
                    <div>
                      <strong>Portfolio</strong>
                      <a href="#" target="_blank">View Website</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Notes Tab -->
            <div id="notes-tab" class="tab-pane">
              <div class="notes-section">
                <h4>Notes & Comments</h4>
                <div class="notes-content" id="candidateDetailNotes">
                  <!-- Notes will be populated here -->
                </div>
                
                <div class="add-note-section">
                  <h5>Add New Note</h5>
                  <textarea id="newCandidateNote" placeholder="Add a note about this candidate..." rows="3"></textarea>
                  <button class="btn btn-primary" onclick="addCandidateNote()">
                    <i class="fas fa-plus"></i>
                    Add Note
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modern Footer -->
  <footer class="footer-modern">
    <div class="container">
      <div class="footer-content">
        <p class="footer-text">
          Powered by advanced AI technology to revolutionize your recruitment process. 
          Make data-driven hiring decisions with confidence.
        </p>
      </div>
    </div>
  </footer>
</body>
</html>
